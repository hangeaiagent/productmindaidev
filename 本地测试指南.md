# 🧪 本地测试指南 - AI产品分析功能

## 📋 当前服务状态

### ✅ 后端API服务器
- **地址**: http://localhost:3000
- **状态**: 运行中 (PID: 93985)
- **健康检查**: http://localhost:3000/health
- **API端点**: POST http://localhost:3000/api/ai-product-analysis

### ✅ 前端开发服务器
- **地址**: http://localhost:5173
- **状态**: 运行中 (PID: 94456)
- **页面**: AI产品创意生成器

---

## 🎯 测试步骤

### 1. 打开前端应用
```bash
# 在浏览器中访问
http://localhost:5173
```

### 2. 找到AI产品创意生成器
- 在主页面中找到"AI产品创意生成器"模块
- 应该看到一个带有灯泡图标的卡片

### 3. 进行功能测试

#### 测试用例1：智能健身应用
```
输入内容：
智能健身应用，帮助用户制定个性化训练计划，包含AI动作识别、健康数据分析、社区互动功能

预期结果：
- 显示最小可行产品(MVP)建议
- 显示AI技术方案
- 显示开发模块分解
- 可以下载Cursor提示词文件
```

#### 测试用例2：冥想显化AI应用
```
输入内容：
【产品名称】：冥想显化ai
【产品核心】：ai生成冥想引导语音
【主界面】：1.选择显化类型（放松解压、工作、学业、财富等）
          2.选择时长（10min、15min、20min）
          3.选择姿势（椅子坐姿、盘坐、躺卧）
【引导界面】：1.颂钵音乐/冥想纯音乐
            2.语音引导（用ai实时生成）
            3.背景画面（用ai绘图制作）
            4.呼吸灯

预期结果：
- 系统识别为冥想/健康类应用
- 生成相应的技术方案和开发建议
```

#### 测试用例3：教育类应用
```
输入内容：
在线教育平台，使用AI为学生提供个性化学习路径，包含智能题库、学习进度跟踪、知识图谱可视化

预期结果：
- 识别为教育类产品
- 推荐相关AI模型和技术栈
```

---

## 🔍 详细测试流程

### 步骤1：访问应用
1. 打开浏览器
2. 访问 http://localhost:5173
3. 确认页面正常加载

### 步骤2：输入产品需求
1. 在文本框中输入产品描述（至少10个字符）
2. 确认字符计数器显示正确
3. 点击"生成分析"按钮

### 步骤3：观察处理过程
1. 按钮应显示"分析中..."状态
2. 按钮应处于禁用状态
3. 等待API响应（通常2-3秒）

### 步骤4：验证结果显示
1. **最小可行产品(MVP)区域**:
   - 产品标题
   - 产品描述
   - 核心功能列表
   - 目标用户
   - 商业模式

2. **AI技术方案区域**:
   - 推荐AI模型（GPT-4o、Claude-3.5、DeepSeek等）
   - 关键算法
   - MCP工具推荐
   - 系统架构

3. **开发模块区域**:
   - 模块名称
   - 功能描述
   - 优先级标签（高/中/低）
   - 预估时间
   - Cursor提示词

### 步骤5：测试下载功能
1. 点击"下载Cursor提示词"按钮
2. 确认文件下载（cursor-prompts.txt）
3. 打开文件验证内容格式正确

---

## 🐛 常见问题排查

### 问题1：点击后没有结果显示

#### 可能原因1：API连接失败
```bash
# 检查后端服务状态
curl http://localhost:3000/health

# 应返回：{"status":"ok","message":"AWS Backend Test Server Running"}
```

#### 可能原因2：输入验证失败
- 确保输入至少10个字符
- 检查浏览器控制台是否有错误信息

#### 可能原因3：网络请求被阻止
1. 打开浏览器开发者工具 (F12)
2. 切换到Network标签
3. 重新发送请求
4. 查看是否有失败的请求

### 问题2：服务器无响应

#### 检查后端服务
```bash
# 查看进程状态
ps aux | grep test-api-server

# 重启后端服务
cd /Users/a1/work/productmindai0521/aws-backend
node test-api-server.cjs
```

#### 检查前端服务
```bash
# 查看进程状态
ps aux | grep vite

# 重启前端服务
npm run dev
```

### 问题3：API返回错误

#### 检查API直接调用
```bash
# 测试API端点
curl -X POST http://localhost:3000/api/ai-product-analysis \
  -H "Content-Type: application/json" \
  -d '{"requirement":"测试产品需求描述，至少十个字符","language":"zh"}'
```

---

## 📊 性能监控

### 响应时间预期
- 健康检查: < 50ms
- AI产品分析: 2000-3000ms
- 静态资源: < 100ms

### 内存使用监控
```bash
# 查看服务内存使用
ps aux | grep -E "(vite|test-api-server)" | awk '{print $6, $11}'
```

---

## 🎉 成功测试标准

### ✅ 基础功能测试通过标准
1. 前端页面正常加载
2. 输入框接受用户输入
3. 点击按钮触发API请求
4. 显示加载状态
5. 返回分析结果
6. 结果格式正确显示

### ✅ 完整功能测试通过标准
1. 支持中英文输入
2. 正确识别产品类型
3. 生成合理的技术方案
4. 开发模块分解详细
5. Cursor提示词下载正常
6. 错误处理正确

---

## 📞 技术支持

### 如果遇到问题
1. 检查终端是否有错误信息
2. 查看浏览器控制台错误
3. 验证服务器进程状态
4. 重启相关服务

### 调试命令
```bash
# 查看服务状态
ps aux | grep -E "(vite|test-api-server)"

# 测试API连接
curl http://localhost:3000/health

# 查看端口占用
lsof -i :3000 && lsof -i :5173

# 重启服务
pkill -f test-api-server && pkill -f vite
```

---

**🎯 开始测试**: 现在您可以访问 http://localhost:5173 开始测试AI产品分析功能！ 