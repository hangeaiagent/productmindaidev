/*
  # 添加分类排序字段

  1. 变更
    - 为 template_categories 表添加 no 字段
    - 更新现有分类的排序
    
  2. 排序规则
    1. 策略与愿景
    2. 用户研究
    3. 产品规划
    4. 设计与体验
    5. 开发
    6. 增长与留存
    7. 数据分析
*/

-- 添加排序字段
ALTER TABLE template_categories
ADD COLUMN no INTEGER NOT NULL DEFAULT 1;

-- 更新现有分类的排序
UPDATE template_categories
SET no = CASE id
  WHEN '11111111-1111-1111-1111-111111111111' THEN 1  -- 策略与愿景
  WHEN '22222222-2222-2222-2222-222222222222' THEN 2  -- 用户研究
  WHEN '33333333-3333-3333-3333-333333333333' THEN 3  -- 产品规划
  WHEN '66666666-6666-6666-6666-666666666666' THEN 4  -- 设计与体验
  WHEN '77777777-7777-7777-7777-777777777777' THEN 5  -- 开发
  WHEN '55555555-5555-5555-5555-555555555555' THEN 6  -- 增长与留存
  WHEN '44444444-4444-4444-4444-444444444444' THEN 7  -- 数据分析
END;